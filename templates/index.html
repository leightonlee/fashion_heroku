<!DOCTYPE html>
<html>
<head>
    <style type="text/css">
        #container {
            width: 100%;
            margin: auto;
        }

        #container > div {
            background-color: #fff;
            width: 220px;
            padding: 2px;
            margin: 5px;
        }

        #container > div img {
        padding: 0px;
        display: block;
        width: 100%;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/jquery.pinto.js') }}"></script>
    <script>
    function create_fashion_item(item){
        console.log(item);
        var fashion_item = $('<div/>', {
            text:   "Title: " + item.title});
        fashion_item.append("<br>");
        fashion_item.append("Author: " + item.author);
        fashion_item.append("<br>");
        fashion_item.append("Description: " + item.blurb);
        fashion_item.append("<br>");
        fashion_item.append("<img src=/fashion/image/" + item.thumbnail_url + ">");
        fashion_item.append("<br>");
        fashion_item.append("Additional info: <a href=\"" + item.details_url + "\">" + item.details_url + "<a/>");
        return fashion_item;
    }

    function onDataReceived (data){
        $.each(data.items, function(idx, obj) {
            $("#container").append(create_fashion_item(obj));
        });
    };

    $(document).ready(function() {
        $.getJSON("/fashion/1", onDataReceived)
    });
    </script>
</head>
<body>
<div id="container"></div>
<script type="text/javascript">
    $('#container').pinto();
</script>
</body>
</html>
